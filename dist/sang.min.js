!function(){"use strict";angular.module("player",[]).config(["$provide",function($provide){$provide.factory("AudioPlayer",function(){return new Player})}]),angular.module("sang",["player"]).config(["$provide",function($provide){$provide.factory("Sang",["AudioPlayer",function(AudioPlayer){return{player:AudioPlayer,currentTrack:{},tracks:[{src:"track one"},{src:"track two"},{src:"track three"}],index:0,playing:!1,play:function(idx){"number"==typeof idx&&this.tracks.length&&(this.index=idx%this.tracks.length,this.currentTrack=this.tracks[this.index]),this.playing=!0,this.player.play(this.currentTrack.src)},pause:function(){this.playing=!1,this.player.pause()},playPause:function(idx){this.playing?this.pause():this.play(idx)},previous:function(){this.index--,this.playing&&this.play(this.index)},next:function(){this.index++,this.playing&&this.play(this.index)},seek:function(e){this.player.seek(e)}}}])}])}();